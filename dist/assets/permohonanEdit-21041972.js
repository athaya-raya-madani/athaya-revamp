import{cQ as S,b as T,r as u,b1 as D,o as y,e as K,f as o,i as e,bV as N,l as P,bT as A,c as E}from"./index-c8a20c60.js";import{A as w}from"./index-573a504e.js";import{b as U,c as n,a as B,V as C}from"./VCard-10ac2d25.js";import{V as t,a as F}from"./VTextField-a1783f7d.js";import"./VAvatar-56f432b8.js";import"./VImg-5a555564.js";import"./index-0e5408e7.js";const $={__name:"PermohonanEdit",setup(_){const h=S(),g=T(),s=u(""),m=u(""),r=u(""),p=u(""),i=u(""),v=u(""),V=u(""),b=u(""),f=u(""),c=u(""),k=u(""),x=u([]);D(async()=>{try{const a=(await w.get(`/api/permohonan/${g.params.id}`)).data.data;s.value=a.namaktp,m.value=a.statuspembiayaan,r.value=a.norektabungan,p.value=a.nopensiun,i.value=a.norekpemohon,v.value=a.nmpasangan,V.value=a.statuskawin,b.value=a.sumberdana,f.value=a.jeniskelamin,c.value=a.alamat,k.value=a.nohp,console.log("Fetched data berhasil")}catch{console.error("Error fetching data")}});const R=async()=>{var d;try{const a=new FormData;a.append("namaktp",s.value),a.append("statuspembiayaan",m.value),a.append("norektabungan",r.value),a.append("nopensiun",p.value),a.append("norekpemohon",i.value),a.append("nmpasangan",v.value),a.append("statuskawin",V.value),a.append("sumberdana",b.value),a.append("jeniskelamin",f.value),a.append("alamat",c.value),a.append("nohp",k.value);const l=await w.post(`/api/permohonan/${g.params.id}/update`,a);console.log("Updated Data:",l.data),h.push({path:"/permohonans"})}catch(a){x.value=((d=a.response)==null?void 0:d.data)||"An error occurred while updating data.",console.error("Error updating data:",a)}};return(d,a)=>(y(),K(F,{onSubmit:a[11]||(a[11]=A(l=>R(),["prevent"]))},{default:o(()=>[e(U,null,{default:o(()=>[e(n,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l),label:"Nama KTP",placeholder:"Masukkan Nama sesuai KTP"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=l=>m.value=l),label:"Status Pembiayaan",placeholder:"Status Pembiayaan"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=l=>r.value=l),label:"No Rek Tabungan",placeholder:"No Rek Tabungan"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:i.value,"onUpdate:modelValue":a[3]||(a[3]=l=>i.value=l),label:"No Rek Pemohon",placeholder:"No Rek Pemohon"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:p.value,"onUpdate:modelValue":a[4]||(a[4]=l=>p.value=l),label:"No Pensiun",placeholder:"No Pensiun"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:v.value,"onUpdate:modelValue":a[5]||(a[5]=l=>v.value=l),label:"Nama Pasangan",placeholder:"Nama Pasangan"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:V.value,"onUpdate:modelValue":a[6]||(a[6]=l=>V.value=l),label:"Status Kawin",placeholder:"Status Kawin"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:b.value,"onUpdate:modelValue":a[7]||(a[7]=l=>b.value=l),label:"Sumber Dana",placeholder:"Sumber Dana"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:f.value,"onUpdate:modelValue":a[8]||(a[8]=l=>f.value=l),label:"Jenis Kelamin",placeholder:"Jenis Kelamin"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:c.value,"onUpdate:modelValue":a[9]||(a[9]=l=>c.value=l),label:"Alamat",placeholder:"Alamat"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:k.value,"onUpdate:modelValue":a[10]||(a[10]=l=>k.value=l),label:"No HP",placeholder:"No HP"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[e(N,{type:"submit"},{default:o(()=>[P(" Submit ")]),_:1}),e(N,{type:"reset",color:"secondary",variant:"tonal"},{default:o(()=>[P(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1}))}},z={__name:"permohonanEdit",setup(_){return(h,g)=>(y(),E("div",null,[e(U,null,{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(B,{title:"Lengkapi Data"},{default:o(()=>[e(C,null,{default:o(()=>[e($)]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{z as default};
